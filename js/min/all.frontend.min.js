function onYouTubeIframeAPIReady(){slideshow_jquery_image_gallery_script.youTubeAPIReady=!0}slideshow_jquery_image_gallery_script=function(){var t=jQuery,e={};return e.registeredSlideshows=[],e.youTubeAPIReady=!1,e.loadYouTubeAPICalled=!1,e.stylesheetURLChecked=!1,e.activateSlideshows=function(){t.each(jQuery(".slideshow_container"),function(i,s){var n=t(s),o=n.data("sessionId");isNaN(parseInt(o,10))&&(o=n.attr("data-session-id")),t.inArray(o,e.registeredSlideshows)<0&&new e.Slideshow(n)})},e.loadYouTubeAPI=function(){if(!(e.loadYouTubeAPICalled||(e.loadYouTubeAPICalled=!0,t(".slideshow_slide_video").length<=0))){var i=document.createElement("script"),s=document.getElementsByTagName("script")[0];i.src="//www.youtube.com/iframe_api",s.parentNode.insertBefore(i,s)}},e.checkStylesheetURL=function(){if(!e.stylesheetURLChecked){e.stylesheetURLChecked=!0;var i=t('[id*="slideshow-jquery-image-gallery-ajax-stylesheet_"]');i.length<=0||t.each(i,function(e,i){var s,n,o,a=t(i),r=t(i).attr("href");void 0!==r&&""!==r&&(s=a.attr("id").split("_"),n=s.splice(1,s.length-1).join("_").slice(0,-4),o=r.split("?"),(void 0===o[1]||""===o[1]||o[1].toLowerCase().indexOf("style=")<0)&&(o[1]="action=slideshow_jquery_image_gallery_load_stylesheet&style="+n+"&ver="+Math.round((new Date).getTime()/1e3),r=o.join("?"),a.attr("href",r)))})}},t(document).ready(function(){e.loadYouTubeAPI(),e.checkStylesheetURL(),e.activateSlideshows()}),t(window).load(function(){e.loadYouTubeAPI(),e.checkStylesheetURL(),e.activateSlideshows()}),e}();!function(){var t=jQuery,e=slideshow_jquery_image_gallery_script;e.Slideshow=function(i){if(this.$container=i,this.$content=this.$container.find(".slideshow_content"),this.$views=this.$container.find(".slideshow_view"),this.$slides=this.$container.find(".slideshow_slide"),this.$controlPanel=this.$container.find(".slideshow_controlPanel"),this.$togglePlayButton=this.$controlPanel.find(".slideshow_togglePlay"),this.$nextButton=this.$container.find(".slideshow_next"),this.$previousButton=this.$container.find(".slideshow_previous"),this.$pagination=this.$container.find(".slideshow_pagination"),this.$loadingIcon=this.$container.find(".slideshow_loading_icon"),this.ID=this.getID(),!isNaN(parseInt(this.ID,10))){this.settings=window["SlideshowPluginSettings_"+this.ID],t.each(this.settings,t.proxy(function(t,e){"true"==e?this.settings[t]=!0:"false"==e&&(this.settings[t]=!1)},this)),this.$parentElement=this.$container.parent(),this.viewData=[],this.viewIDs=[],this.navigationActive=!0,this.currentViewID=void 0,this.currentWidth=0,this.visibleViews=[],this.videoPlayers=[],this.interval=!1,this.mouseEnterTimer=!1,this.invisibilityTimer=!1,this.descriptionTimer=!1,this.randomNextHistoryViewIDs=[],this.randomPreviousHistoryViewIDs=[],this.randomAvailableViewIDs=[],e.registeredSlideshows.push(this.ID),t.each(this.$views,t.proxy(function(t){this.viewIDs.push(t)},this)),this.currentViewID=this.getNextViewID(),this.visibleViews=[this.currentViewID],this.recalculate(!1);var s=!0;t.each(this.$views,t.proxy(function(e,i){var n=t(i);this.recalculateView(e),e!=this.visibleViews[0]?n.css("top",this.$container.outerHeight(!0)):n.addClass("slideshow_currentView"),this.viewData[e]=[],t.each(n.find(".slideshow_slide"),t.proxy(function(i,n){var o=t(n);if(this.viewData[e][i]={imageDimension:""},this.settings.waitUntilLoaded&&o.hasClass("slideshow_slide_image")){var a=o.find("img");a.length>0?a.each(t.proxy(function(n,o){o.complete?this.viewData[e][i].loaded=1:(e===this.currentViewID&&(s=!1),this.viewData[e][i].loaded=0,a.load(t.proxy(function(){this.viewData[e][i].loaded=1,e===this.currentViewID&&this.isViewLoaded(e)&&this.firstStart()},this)).bind("error",t.proxy(function(){this.viewData[e][i].loaded=2},this)))},this)):this.viewData[e][i].loaded=-1}else this.viewData[e][i].loaded=-1},this))},this)),t(window).load(t.proxy(function(){this.recalculateVisibleViews()},this)),parseFloat(this.settings.intervalSpeed)<parseFloat(this.settings.slideSpeed)+.1&&(this.settings.intervalSpeed=parseFloat(this.settings.slideSpeed)+.1),this.activateDescriptions(),this.activateControlPanel(),this.activateNavigationButtons(),this.activatePagination(),this.activatePauseOnHover(),(!this.settings.waitUntilLoaded||s)&&this.firstStart()}}}();!function(){var t=jQuery,e=slideshow_jquery_image_gallery_script;e.Slideshow.prototype.firstStart=function(){this.$loadingIcon.length>0&&this.$loadingIcon.remove(),this.$content.show(),this.settings.enableResponsiveness&&t(window).resize(t.proxy(function(){this.recalculate(!0)},this)),this.start()},e.Slideshow.prototype.start=function(){this.settings.play&&!this.interval&&(this.interval=setInterval(t.proxy(function e(i,s){void 0===s&&(s=this),void 0===i&&(i=s.getNextViewID()),s.isViewLoaded(i)?(s.animateTo(i,1),s.start()):(s.stop(),setTimeout(t.proxy(function(){e(i,s)},s),100))},this),1e3*this.settings.intervalSpeed))},e.Slideshow.prototype.stop=function(){clearInterval(this.interval),this.interval=!1},e.Slideshow.prototype.isVideoPlaying=function(){for(var t in this.videoPlayers)if(this.videoPlayers.hasOwnProperty(t)){var e=this.videoPlayers[t].state;if(1==e||3==e)return!0}return!1},e.Slideshow.prototype.pauseAllVideos=function(){for(var t in this.videoPlayers)if(this.videoPlayers.hasOwnProperty(t)){var e=this.videoPlayers[t].player;null!=e&&"function"==typeof e.pauseVideo&&(this.videoPlayers[t].state=2,e.pauseVideo())}},e.Slideshow.prototype.isViewLoaded=function(e){var i=!0;return t.each(this.viewData[e],t.proxy(function(t,e){0==e.loaded&&(i=!1)},this)),i},e.Slideshow.prototype.getNextViewID=function(){var t=this.currentViewID;if(this.settings.random){var e=t;if(t=this.getNextRandomViewID(),t!=e)return t}return isNaN(parseInt(t,10))?0:t>=this.$views.length-1?this.settings.loop?0:this.currentViewID:t+1},e.Slideshow.prototype.getPreviousViewID=function(){var t=this.currentViewID;if(isNaN(parseInt(t,10))&&(t=0),this.settings.random){var e=t;if(t=this.getPreviousRandomViewID(),t!=e)return t}return 0>=t?this.settings.loop?t=this.$views.length-1:this.currentViewID:t-=1},e.Slideshow.prototype.getNextRandomViewID=function(){return isNaN(parseInt(this.currentViewID,10))||this.randomPreviousHistoryViewIDs.push(this.currentViewID),this.randomPreviousHistoryViewIDs.length>2*this.viewIDs.length&&this.randomPreviousHistoryViewIDs.shift(),this.randomNextHistoryViewIDs.length>0?this.randomNextHistoryViewIDs.pop():((void 0===this.randomAvailableViewIDs||this.randomAvailableViewIDs.length<=0)&&(this.randomAvailableViewIDs=t.extend(!0,[],this.viewIDs),this.randomAvailableViewIDs.splice(t.inArray(this.currentViewID,this.randomAvailableViewIDs))),this.randomAvailableViewIDs.splice(Math.floor(Math.random()*this.randomAvailableViewIDs.length),1).pop())},e.Slideshow.prototype.getPreviousRandomViewID=function(){return isNaN(parseInt(this.currentViewID,10))||this.randomNextHistoryViewIDs.push(this.currentViewID),this.randomNextHistoryViewIDs.length>2*this.viewIDs.length&&this.randomNextHistoryViewIDs.shift(),this.randomPreviousHistoryViewIDs.length>0?this.randomPreviousHistoryViewIDs.pop():this.viewIDs[Math.floor(Math.random()*this.viewIDs.length)]},e.Slideshow.prototype.getID=function(){var t=this.$container.data("sessionId");return isNaN(parseInt(t,10))&&(t=this.$container.attr("data-session-id")),t}}();!function(){var t=jQuery,e=slideshow_jquery_image_gallery_script;e.Slideshow.prototype.animateTo=function(e,i){if(!(this.isVideoPlaying()||0>e||e>=this.$views.length||e==this.currentViewID)){this.navigationActive=!1,(isNaN(parseInt(i,10))||0==i)&&(i=e<this.currentViewID?-1:1),this.visibleViews=[this.currentViewID,e];var s=this.settings.animation,n=["slide","slideRight","slideUp","slideDown","fade","directFade"];"random"==s&&(s=n[Math.floor(Math.random()*n.length)]);var o={slide:"slideRight",slideRight:"slide",slideUp:"slideDown",slideDown:"slideUp",fade:"fade",directFade:"directFade"};0>i&&(s=o[s]);var a=t(this.$views[this.currentViewID]),r=t(this.$views[e]);switch(a.stop(!0,!0),r.stop(!0,!0),r.addClass("slideshow_nextView"),this.recalculateVisibleViews(),this.currentViewID=e,this.$container.trigger("slideshowAnimate"),s){case"slide":r.css({top:0,left:this.$content.width()}),a.animate({left:-a.outerWidth(!0)},1e3*this.settings.slideSpeed),r.animate({left:0},1e3*this.settings.slideSpeed),setTimeout(t.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideRight":r.css({top:0,left:-this.$content.width()}),a.animate({left:a.outerWidth(!0)},1e3*this.settings.slideSpeed),r.animate({left:0},1e3*this.settings.slideSpeed),setTimeout(t.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideUp":r.css({top:this.$content.height(),left:0}),a.animate({top:-a.outerHeight(!0)},1e3*this.settings.slideSpeed),r.animate({top:0},1e3*this.settings.slideSpeed),setTimeout(t.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"slideDown":r.css({top:-this.$content.height(),left:0}),a.animate({top:a.outerHeight(!0)},1e3*this.settings.slideSpeed),r.animate({top:0},1e3*this.settings.slideSpeed),setTimeout(t.proxy(function(){a.stop(!0,!0).css("top",this.$container.outerHeight(!0))},this),1e3*this.settings.slideSpeed);break;case"fade":r.css({top:0,left:0,display:"none"}),a.fadeOut(1e3*this.settings.slideSpeed/2),setTimeout(t.proxy(function(){r.fadeIn(1e3*this.settings.slideSpeed/2),a.stop(!0,!0).css({top:this.$container.outerHeight(!0),display:"block"})},this),1e3*this.settings.slideSpeed/2);break;case"directFade":r.css({top:0,left:0,"z-index":0,display:"none"}),a.css({"z-index":1}),r.stop(!0,!0).fadeIn(1e3*this.settings.slideSpeed),a.stop(!0,!0).fadeOut(1e3*this.settings.slideSpeed),setTimeout(t.proxy(function(){r.stop(!0,!0).css({"z-index":0}),a.stop(!0,!0).css({top:this.$container.outerHeight(!0),display:"block","z-index":0})},this),1e3*this.settings.slideSpeed)}setTimeout(t.proxy(function(){a.removeClass("slideshow_currentView"),r.removeClass("slideshow_nextView"),r.addClass("slideshow_currentView"),this.visibleViews=[e],this.navigationActive=!0},this),1e3*this.settings.slideSpeed)}}}();!function(){var t=jQuery,e=slideshow_jquery_image_gallery_script;e.Slideshow.prototype.recalculate=function(e){if(!this.$container.is(":visible"))return this.invisibilityTimer=setInterval(t.proxy(function(){this.$container.is(":visible")&&(this.recalculate(e),clearInterval(this.invisibilityTimer),this.invisibilityTimer=!1)},this),500),void 0;for(var i=this.$parentElement,s=0;i.width()<=0&&(i=i.parent(),!(s>50));s++);if(this.currentWidth!=i.width()){this.currentWidth=i.width();var n=i.width()-(this.$container.outerWidth()-this.$container.width());if(parseInt(this.settings.maxWidth,10)>0&&parseInt(this.settings.maxWidth,10)<n&&(n=parseInt(this.settings.maxWidth,10)),this.$container.css("width",Math.floor(n)),this.$content.css("width",Math.floor(n)-(this.$content.outerWidth(!0)-this.$content.width())),this.settings.preserveSlideshowDimensions){var o=n*this.settings.dimensionHeight/this.settings.dimensionWidth;this.$container.css("height",Math.floor(o)),this.$content.css("height",Math.floor(o)-(this.$content.outerHeight(!0)-this.$content.height()))}else this.$container.css("height",Math.floor(this.settings.height)),this.$content.css("height",Math.floor(this.settings.height));this.$views.each(t.proxy(function(e,i){t.inArray(e,this.visibleViews)<0&&t(i).css("top",this.$container.outerHeight(!0))},this)),this.$container.trigger("slideshowResize"),(e||void 0==e)&&this.recalculateVisibleViews()}},e.Slideshow.prototype.recalculateVisibleViews=function(){t.each(this.visibleViews,t.proxy(function(t,e){this.recalculateView(e)},this))},e.Slideshow.prototype.recalculateView=function(i){var s=t(this.$views[i]);if(this.$content.width()!=s.outerWidth(!0)){var n=s.find(".slideshow_slide");if(!(n.length<=0)){var o=this.$content.width()-(s.outerWidth(!0)-s.width()),a=this.$content.height()-(s.outerHeight(!0)-s.height()),r=Math.floor(o/n.length),h=a,l=o%n.length,d=0;t(n[0]).css("margin-left",0),t(n[n.length-1]).css("margin-right",0),t.each(n,t.proxy(function(s,o){var a=t(o),c=a.outerWidth(!0)-a.width(),u=a.outerHeight(!0)-a.height();if(s==n.length-1?a.width(r-c+l):a.width(r-c),a.height(h-u),a.hasClass("slideshow_slide_text")){var p=a.find(".slideshow_background_anchor");if(p.length<=0)return;var w=a.width()-(p.outerWidth(!0)-p.width()),g=a.height()-(p.outerHeight(!0)-p.height());p.css({width:w,height:g})}else if(a.hasClass("slideshow_slide_image")){var f=a.find("img");if(f.length<=0)return;var v=a.width()-(f.outerWidth(!0)-f.width()),y=a.height()-(f.outerHeight(!0)-f.height());if(this.settings.stretchImages)f.css({width:v,height:y}),f.attr({width:v,height:y});else if(f.width()>0&&f.height()>0){var m=this.viewData[i][s].imageDimension;isNaN(parseFloat(m))&&(m=this.viewData[i][s].imageDimension=f.outerWidth(!0)/f.outerHeight(!0));var _=a.width()/a.height();m>=_?(f.css({margin:"0px",width:v,height:Math.floor(v/m)}),f.attr({width:v,height:Math.floor(v/m)})):_>m&&(f.css({"margin-left":"auto","margin-right":"auto",display:"block",width:Math.floor(y*m),height:y}),f.attr({width:Math.floor(y*m),height:y}))}}else if(a.hasClass("slideshow_slide_video")){var I=a.find("iframe");if(I.length>0)I.attr({width:a.width(),height:a.height()});else var D=setInterval(t.proxy(function(){if(e.youTubeAPIReady){clearInterval(D);var i=a.find(".slideshow_slide_video_id");i.attr("id","slideshow_slide_video_"+Math.floor(1e6*Math.random())+"_"+i.text());var s=i.attr("data-show-related-videos"),n=new YT.Player(i.attr("id"),{width:a.width(),height:a.height(),videoId:i.text(),playerVars:{wmode:"opaque",rel:s},events:{onReady:function(){},onStateChange:t.proxy(function(t){this.videoPlayers[i.attr("id")].state=t.data},this)}}),o=t("#"+i.attr("id"));o.show(),o.attr("src",o.attr("src")+"&wmode=opaque"),this.videoPlayers[i.attr("id")]={player:n,state:-1}}},this),500)}d+=a.outerWidth(!0)},this)),s.css({width:o,height:a})}}}}();!function(){var t=jQuery,i=slideshow_jquery_image_gallery_script;i.Slideshow.prototype.activateDescriptions=function(){this.settings.showDescription&&(t.each(this.$slides.find(".slideshow_description"),t.proxy(function(i,e){var s=t(e);s.show(),this.settings.hideDescription?s.css({position:"absolute",top:this.$container.outerHeight(!0)}):s.css({position:"absolute",bottom:0})},this)),this.settings.hideDescription&&(this.$container.bind("slideshowResize",t.proxy(function(){t.each(this.$container.find(".slideshow_description"),t.proxy(function(i,e){t(e).css("top",this.$container.outerHeight(!0))},this))},this)),this.$container.bind("slideshowAnimate",t.proxy(function(){void 0!=this.visibleViews[1]&&t.each(t(this.$views[this.visibleViews[1]]).find(".slideshow_description"),t.proxy(function(i,e){t(e).css("top",this.$container.outerHeight(!0))},this))},this)),this.$slides.mouseenter(t.proxy(function(i){var e=t(i.currentTarget).find(".slideshow_description");this.descriptionTimer=setTimeout(t.proxy(function(){this.descriptionTimer="",e.stop(!0,!1).animate({top:this.$container.outerHeight(!0)-e.outerHeight(!0)},parseInt(1e3*this.settings.descriptionSpeed,10))},this),100)},this)),this.$slides.mouseleave(t.proxy(function(i){this.descriptionTimer===!1&&(clearInterval(this.descriptionTimer),this.descriptionTimer=!1),t(i.currentTarget).find(".slideshow_description").stop(!0,!1).animate({top:this.$container.outerHeight(!0)},parseInt(1e3*this.settings.descriptionSpeed,10))},this))))},i.Slideshow.prototype.activateNavigationButtons=function(){this.settings.controllable&&(this.$nextButton.click(t.proxy(function(){this.navigationActive&&(this.pauseAllVideos(),this.stop(),this.animateTo(this.getNextViewID(),1),this.start())},this)),this.$previousButton.click(t.proxy(function(){this.navigationActive&&(this.pauseAllVideos(),this.stop(),this.animateTo(this.getPreviousViewID(),-1),this.start())},this)),this.settings.hideNavigationButtons?(this.$container.mouseenter(t.proxy(function(){this.$nextButton.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$nextButton.stop(!0,!0).fadeOut(500)},this)),this.$container.mouseenter(t.proxy(function(){this.$previousButton.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$previousButton.stop(!0,!0).fadeOut(500)},this))):(this.$nextButton.show(),this.$previousButton.show()))},i.Slideshow.prototype.activateControlPanel=function(){this.settings.controlPanel&&(this.settings.play?this.$togglePlayButton.attr("class","slideshow_pause"):this.$togglePlayButton.attr("class","slideshow_play"),this.$togglePlayButton.click(t.proxy(function(i){this.settings.play?(this.settings.play=!1,t(i.currentTarget).attr("class","slideshow_play"),this.stop()):(this.settings.play=!0,t(i.currentTarget).attr("class","slideshow_pause"),this.start())},this)),this.settings.hideControlPanel?(this.$container.mouseenter(t.proxy(function(){this.$controlPanel.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$controlPanel.stop(!0,!0).fadeOut(500)},this))):this.$controlPanel.show())},i.Slideshow.prototype.activatePagination=function(){if(this.settings.showPagination){this.$pagination.find(".slideshow_pagination_center").html("<ul></ul>");var i=this.$pagination.find("ul");i.html(""),this.$views.each(t.proxy(function(t){var e="";t==this.currentViewID&&(e="slideshow_currentView"),i.append('<li class="slideshow_transparent '+e+'"><span style="display: none;">'+t+"</span></li>")},this)),this.$pagination.find("li").click(t.proxy(function(i){if(this.navigationActive){var e=t(i.currentTarget).find("span").text();isNaN(parseInt(e,10))||(this.pauseAllVideos(),this.stop(),this.animateTo(parseInt(e,10),0),this.start())}},this)),this.$container.bind("slideshowAnimate",t.proxy(function(){var i=this.$pagination.find("li");i.each(t.proxy(function(i,e){t(e).removeClass("slideshow_currentView")},this)),t(i[this.currentViewID]).addClass("slideshow_currentView")},this)),this.settings.hidePagination?(this.$container.mouseenter(t.proxy(function(){this.$pagination.stop(!0,!0).fadeIn(100)},this)),this.$container.mouseleave(t.proxy(function(){this.$pagination.stop(!0,!0).fadeOut(500)},this))):this.$pagination.show()}},i.Slideshow.prototype.activatePauseOnHover=function(){this.settings.pauseOnHover&&(this.$container.mouseenter(t.proxy(function(){clearTimeout(this.mouseEnterTimer),this.mouseEnterTimer=setTimeout(t.proxy(function(){this.stop()},this),500)},this)),this.$container.mouseleave(t.proxy(function(){clearTimeout(this.mouseEnterTimer),this.interval===!1&&this.start()},this)))}}();